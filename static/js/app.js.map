{"version":3,"sources":["webpack:///./src/gitment/utils.js","webpack:///./src/App.vue","webpack:///./src/components/Detail.vue","webpack:///./src/components/Error.vue","webpack:///./src/components/List.vue","webpack:///App.vue","webpack:///Detail.vue","webpack:///Error.vue","webpack:///List.vue","webpack:///./src/gitment/gitment.js","webpack:///./src/gitment/icons.js","webpack:///./src/gitment/theme/default.js","webpack:///./src/main.js","webpack:///./~/_normalize.css@8.0.0@normalize.css/normalize.css?cb3b","webpack:///./src/gitment/default.css?6e4e","webpack:///./src/style/main.css?16a1","webpack:///./src/components/Detail.vue?035b","webpack:///./src/components/List.vue?3902","webpack:///./src/components/Error.vue?de43","webpack:///./src/components/Detail.vue?8601","webpack:///./src/App.vue?d9a1","webpack:///./src/config/index.js","webpack:///./src/gitment/constants.js"],"names":["isString","s","toString","call","getTargetContainer","container","targetContainer","Element","document","getElementById","createElement","Query","parse","search","window","location","queryString","substring","query","split","forEach","queryStr","key","value","stringify","prefix","Object","keys","map","encodeURIComponent","join","ajaxFactory","method","apiPath","data","base","req","XMLHttpRequest","token","localStorage","getItem","url","body","p","Promise","resolve","reject","addEventListener","contentType","getResponseHeader","res","responseText","test","JSON","message","Error","error","open","setRequestHeader","send","ajax","axiosSettings","baseURL","responseType","headers","Axios","then","response","http","get","post","delete","put","scope","status","load","extendRenderer","instance","renderer","render","theme","defaultTheme","autorun","e","state","firstChild","replaceChild","appendChild","Gitment","accessToken","setItem","loginLink","oauthUri","oauthParams","assign","oauth","constructor","options","useTheme","id","href","title","link","desc","labels","perPage","maxCommentHeight","redirect_uri","user","userInfo","fromCache","removeItem","observable","meta","comments","undefined","reactions","commentReactions","currentPage","code","client_id","client_secret","replacedUrl","origin","pathname","hash","history","replaceState","isLoggingIn","access_token","update","catch","console","log","init","createIssue","loadComments","renderers","all","loadMeta","loadUserInfo","loadCommentReactions","loadReactions","markdown","text","mode","owner","repo","concat","getIssue","timer","setInterval","clearInterval","issue","comments_url","pageCount","Math","ceil","push","issues","page","per_page","logout","total_count","comentReactions","comment","reactionsArray","index","login","goto","like","alert","number","content","reaction","heart","unlike","findIndex","splice","likeAComment","commentId","find","unlikeAComment","close","github","spinner","renderHeader","lang","className","likeButton","likedReaction","innerHTML","classList","add","onclick","remove","commentsCount","issueLink","html_url","target","innerText","renderComments","errorBlock","toLowerCase","initHint","initButton","setAttribute","removeAttribute","loading","length","emptyBlock","commentsList","createDate","Date","created_at","updateDate","updated_at","commentItem","avatar_url","toDateString","body_html","querySelector","imgTrigger","markdownBody","src","onload","clientHeight","style","maxHeight","pagination","previousButton","i","pageItem","nextButton","renderEditor","shouldDisable","disabledTip","writeField","previewField","textarea","oninput","height","getComputedStyle","parseInt","scrollHeight","writeTab","previewTab","querySelectorAll","focus","preview","trim","html","submitButton","renderFooter","Vue","use","routes","path","name","redirect","component","Detail","List","ErrorPage","router","app","h","$mount","OWNER","REPO","OAUTH","TITLE","LS_ACCESS_TOKEN_KEY","LS_USER_KEY","NOT_INITIALIZED_ERROR"],"mappings":"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AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;ACzCD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,+BAA+B,aAAa,0BAA0B;AACvE;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH,CAAC,E;;;;;;;;;;;ACvED;AAAA,MAAMC,QAAQ,SAAd;AACA,MAAMC,OAAO,mBAAb;AACA,MAAMC,QAAQ;AACVtJ,eAAW,sBADD;AAEVC,mBAAe;AAFL,CAAd;AAIA,MAAMsJ,QAAQ,oBAAd;;;;;;;;;;ACNO,MAAMC,sBAAsB,wBAA5B;AAAA;AAAA;AACA,MAAMC,cAAc,mBAApB;AAAA;AAAA;;AAEA,MAAMC,wBAAwB,IAAI3N,KAAJ,CAAU,0BAAV,CAA9B,C","file":"static/js/app.js?t=8d07e3fde527baa50fe0","sourcesContent":["import Axios from \"axios\"\nimport { LS_ACCESS_TOKEN_KEY } from './constants'\n\nexport const isString = s => toString.call(s) === '[object String]'\n\nexport function getTargetContainer(container) {\n    let targetContainer;\n    if (container instanceof Element) {\n        targetContainer = container;\n    } else if (isString(container)) {\n        targetContainer = document.getElementById(container);\n    } else {\n        targetContainer = document.createElement('div');\n    }\n\n    return targetContainer;\n}\n\nexport const Query = {\n    parse(search = window.location.search) {\n        if (!search) return {};\n        const queryString = search[0] === '?' ? search.substring(1) : search;\n        const query = {};\n        queryString.split('&')\n            .forEach(queryStr => {\n                const [key, value] = queryStr.split('=');\n                if (key) query[key] = value;\n            })\n\n        return query;\n    },\n    stringify(query, prefix = '?') {\n        const queryString = Object.keys(query)\n            .map(key => `${key}=${encodeURIComponent(query[key] || '')}`)\n            .join('&');\n        return queryString ? prefix + queryString : '';\n    },\n}\n\nfunction ajaxFactory(method) {\n    return function(apiPath, data = {}, base = 'https://api.github.com') {\n        const req = new XMLHttpRequest();\n        const token = localStorage.getItem(LS_ACCESS_TOKEN_KEY);\n\n        let url = `${base}${apiPath}`;\n        let body = null;\n        if (method === 'GET' || method === 'DELETE') {\n            url += Query.stringify(data);\n        }\n\n        const p = new Promise((resolve, reject) => {\n            req.addEventListener('load', () => {\n                const contentType = req.getResponseHeader('content-type');\n                const res = req.responseText;\n                if (!/json/.test(contentType)) {\n                    resolve(res);\n                    return;\n                }\n                const data = req.responseText ? JSON.parse(res) : {};\n                if (data.message) {\n                    reject(new Error(data.message));\n                } else {\n                    resolve(data);\n                }\n            })\n            req.addEventListener('error', error => reject(error));\n        });\n\n        req.open(method, url, true);\n\n        req.setRequestHeader('Accept', 'application/vnd.github.squirrel-girl-preview, application/vnd.github.html+json');\n        if (token) {\n          req.setRequestHeader('Authorization', `token ${token}`);\n        }\n        if (method !== 'GET' && method !== 'DELETE') {\n          body = JSON.stringify(data);\n          req.setRequestHeader('Content-Type', 'application/json');\n        }\n\n        req.send(body);\n        return p;\n    }\n}\n\nfunction ajax ( method ) {\n    return function ( apiPath, data = {}, base = 'https://api.github.com' ) {\n        const token = localStorage.getItem(LS_ACCESS_TOKEN_KEY);\n\n        const axiosSettings = {\n            url: apiPath,\n            method: method,\n            baseURL: base,\n            responseType: \"json\",\n            headers: {\n                'Accept': 'application/vnd.github.squirrel-girl-preview, application/vnd.github.html+json' \n            },\n        };\n\n        if (token) {\n          axiosSettings.headers['Authorization'] = `token ${token}`;\n        }\n\n        if ( data && method === 'get' || method === 'delete') {\n            axiosSettings.url += Query.stringify(data);\n        } else if(method === \"post\" || method === \"put\" || method === \"patch\") {\n            axiosSettings.data = JSON.stringify(data);\n            axiosSettings.headers['Content-Type'] = \"application/json\";\n        }\n\n        return Axios(axiosSettings).then((response) => {\n            // 只返回data，其他不返回\n            return response.data;\n        });\n    }\n}\n\n/*export const http = {\n    get: ajaxFactory('GET'),\n    post: ajaxFactory('POST'),\n    delete: ajaxFactory('DELETE'),\n    put: ajaxFactory('PUT')\n}*/\n\nexport const http = {\n    get: ajax('get'),\n    post: ajax('post'),\n    delete: ajax('delete'),\n    put: ajax('put')\n}\n\n\n// WEBPACK FOOTER //\n// ./src/gitment/utils.js","var Component = require(\"!../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-afd21016\\\",\\\"hasScoped\\\":false}!../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 137\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a32f5fe\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./Detail.vue\")\n}\nvar Component = require(\"!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./Detail.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a32f5fe\\\",\\\"hasScoped\\\":true}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./Detail.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-4a32f5fe\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Detail.vue\n// module id = 138\n// module chunks = 1","var Component = require(\"!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./Error.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-332b832a\\\",\\\"hasScoped\\\":false}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./Error.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Error.vue\n// module id = 139\n// module chunks = 1","var Component = require(\"!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./List.vue\"),\n  /* template */\n  require(\"!!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14e0810b\\\",\\\"hasScoped\\\":false}!../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./List.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/List.vue\n// module id = 140\n// module chunks = 1","<template>\n    <div id=\"app\">\n        <header class=\"main\">\n            <div class=\"main-info\">\n                <a :href=\"user.html_url\" target=\"_blank\">\n                    <div class=\"main-avatar\">\n                        <img :src=\"user.avatar_url\" />\n                    </div>\n                    <font>{{user.name || user.login}}</font>\n                </a>\n            </div>\n            <div class=\"main-title\">\n                <router-link :to=\"'/'\">\n                    {{title}}</router-link>\n            </div>\n        </header>\n        <section ref=\"context\" class=\"context\" @scroll=\"onScrolling\">\n            <router-view ref=\"context-view\" v-on:getMoreIssues=\"getIssues\" :issues=\"issues\" @loading=\"setLoading\">\n            </router-view>\n            <div v-show=\"loading\" class=\"loading-tips\">\n                <svg height=\"60\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"60\" aria-hidden=\"true\">\n                    <path fill-rule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\"></path>\n                </svg>\n                <p>loading</p>\n            </div>\n        </section>\n        <footer class=\"main\">\n            <p>Powered By <a href=\"http://github.com\">Github</a></p>\n        </footer>\n    </div>\n</template>\n<script>\n    import 'normalize.css';\n    import './style/main.css';\n    import { http } from './gitment/utils';\n    import { OWNER, REPO, TITLE } from './config';\n\n    export default {\n        name: 'app',\n        data: function() {\n            return {\n                title: TITLE,\n                page: 1,\n                issues: [],\n                user: {},\n                timer: 0,\n                loading: false,\n                isPause: false,\n            }\n        },\n        methods: {\n            getIssues() {\n                const isShowList = this.$route.path === '/';\n\n                if (isShowList) this.loading = true;\n\n                http.get(`/repos/${OWNER}/${REPO}/issues`, {creator: OWNER, page: this.page})\n                    .then(issues => {\n                        if (isShowList) this.loading = false;\n\n                        if ( issues && issues.length ) {\n                            this.issues = this.issues.concat(issues);\n                            ++ this.page;\n                        } else {\n                            this.pauseUpdate();\n                        }\n                    })\n                    .catch(error => {\n                        if (isShowList) this.loading = false;\n                    });\n            },\n            getUser() {\n                http.get(`/users/${OWNER}`)\n                    .then(user => {\n                        if ( user ) {\n                            this.user = user;\n                        }\n                    });\n            },\n            onScrolling(e) {\n                const routeName = this.$route.name;\n                const $context = this.$refs['context'];\n                const scrollTop = $context.scrollTop;\n\n                switch ( routeName ) {\n                    case 'list':\n                        if ( !this.isPause && routeName === 'list' && $context.scrollHeight === scrollTop + $context.clientHeight ) {\n                            clearTimeout(this.timer);\n                            this.timer = setTimeout(() => {\n                                this.getIssues();\n                            }, 200);\n                        }\n\n                        break;\n                    case 'detail':\n                        let $ids = $context.getElementsByTagName('h2'),\n                            $hash;\n\n                        for ( let i = 0, len = $ids.length; i < len; ++i ) {\n                            let $i = $ids[i];\n\n                            if ( !$hash || Math.abs($hash.offsetTop - scrollTop) > Math.abs($i.offsetTop - scrollTop) ) {\n                                $hash = $i;\n                            }\n                        }\n                        if ( $hash ) this.$refs['context-view'].hash = $hash.id;\n                        break;\n                }\n\n                \n            },\n            pauseUpdate() {\n                this.isPause = true;\n\n                setTimeout(() => {\n                    this.isPause = false;\n                }, 20000);\n            },\n            setLoading(val) {\n                this.loading = val;\n            }\n        },\n        mounted() {\n            this.getUser();\n            this.getIssues();\n        }\n    }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?755aa3ba","<template>\n    <section v-show=\"!loading\">\n        <div class=\"content\">\n            <ul v-if=\"detail.paragraph && detail.paragraph.length\" class=\"content-nav\">\n                <a v-for=\"p in detail.paragraph\" :href=\"'#' + p.id\" :class=\"{'active': hash === p.id}\" @click=\"hash = p.id\">\n                    <li v-html=\"p.label\"></li>\n                </a>\n            </ul>\n            <article class=\"gitment-comment-body gitment-markdown\">\n                <h1>{{detail.title}}</h1>\n                <div v-html=\"detail.html\"></div>\n            </article>\n        </div>\n        <div id=\"comments\"></div>\n    </section>\n</template>\n<script>\n    import {\n        OWNER,REPO,OAUTH,TITLE\n    } from '../config'\n\n    import '../gitment/default.css'\n    import Gitment from '../gitment/gitment.js'\n\n    export default {\n        name: 'Detail',\n        data() {\n            let hash = (window.location.hash || '').replace(/^#/, '');\n\n            window.location.hash = '';\n\n            return {\n                detail: {},\n                hash: hash,\n                loading: false,\n            }\n        },\n        watch: {\n            loading: {\n                immediate: true,\n                handler( val ) {\n                    this.$emit('loading', val);\n                }\n            }\n        },\n        mounted() {\n            document.title = TITLE + \" -- loading\";\n\n            this.loading = true;\n\n            const gitment = new Gitment({\n                id: this.$route.params.id,\n                owner: OWNER,\n                repo: REPO,\n                oauth: OAUTH\n            });\n\n            gitment.render(document.getElementById('comments'));\n\n            gitment\n                .getIssue()\n                .then((issue) => {\n                    this.getDetail(issue);\n                    this.loading = false;\n                })\n                .catch(() => {\n                    this.$router.push('error');\n                });\n        },\n        methods: {\n            getDetail ( issue ) {\n                const paragraph = [];\n\n                let html = issue.body_html || '';\n\n                this.detail.title = document.title = issue.title;\n\n                this.detail.html = html.replace(/(\\<h2\\>)(.+)(?=\\<\\/h2\\>)/ig, (str, key) => {\n                    let t = {\n                        id: 'content_title_' + paragraph.length,\n                        label: str.replace(/\\<h\\d\\>/, '')\n                    };\n\n                    paragraph.push(t);\n\n                    return str.replace(/(\\<h\\d)/, `$1 id=${t.id}`);\n                });\n\n                this.detail.paragraph = paragraph;\n\n                setTimeout(() => {\n                    window.location.hash = this.hash;\n                }, 0);\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n\n\n</style>\n\n\n// WEBPACK FOOTER //\n// Detail.vue?052d5a05","<template>\n    <div class=\"content\">\n        <p>页面不存在，{{seconds}}秒后回到首页</p>\n    </div>\n</template>\n<script>\n\nexport default {\n    name: 'Error',\n    data() {\n        return {\n            seconds: 5\n        }\n    },\n    mounted() {\n        let timer = setInterval(() => {\n            if ( -- this.seconds ) {\n                this.$router.push('/');\n                clearInterval(timer);\n            }\n        }, 1000);\n    }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// Error.vue?306b6fa7","<template>\n    <div class=\"issue-list\">\n        <div class=\"issue-item\" v-for=\"item in issues\">\n            <router-link :to=\"'/detail/'+item.number\">\n                <div class=\"issue-text\">\n                    <h2>{{item.title}}</h2>\n                    <p v-html=\"summary(item.body_html)\"></p>\n                </div>\n            </router-link>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { TITLE } from '@/config';\n\nexport default {\n    name: 'List',\n    props: ['issues'],\n    data () {\n        return {\n        }\n    },\n    methods: {\n        summary ( html ) {\n            return html\n                .replace(/<pre[\\s\\S]*>[\\s\\S]*<\\/pre>/g, \"[code]code[/code]\")\n                .replace(/<h[1-7][\\s\\S]*?>[\\s\\S]*?<\\/h[1-7]>/g, \"\")\n                .replace(/<(\\/{0,1})code>/g, `[$1code]`)\n                .replace(/<[^>]+>/g, \" \")\n                .replace(/\\[(\\/{0,1})code\\]/g, `<$1code>`)\n                .replace(/\\n/g, \"\");\n        }\n    },\n    mounted () {\n        window.document.title = TITLE;\n    }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// List.vue?206a3751","import { autorun, observable } from 'mobx'\n\nimport { LS_ACCESS_TOKEN_KEY, LS_USER_KEY, NOT_INITIALIZED_ERROR } from './constants'\nimport { getTargetContainer, http, Query } from './utils'\nimport defaultTheme from './theme/default'\n\nconst scope = 'public_repo'\nconst status = {\n  load: false\n}\n\nfunction extendRenderer(instance, renderer) {\n  instance[renderer] = (container) => {\n    const targetContainer = getTargetContainer(container)\n    const render = instance.theme[renderer] || instance.defaultTheme[renderer]\n\n    autorun(() => {\n      const e = render(instance.state, instance)\n      if (targetContainer.firstChild) {\n        targetContainer.replaceChild(e, targetContainer.firstChild)\n      } else {\n        targetContainer.appendChild(e)\n      }\n    })\n\n    return targetContainer\n  }\n}\n\nexport default class Gitment {\n  get accessToken() {\n    return localStorage.getItem(LS_ACCESS_TOKEN_KEY)\n  }\n  set accessToken(token) {\n    localStorage.setItem(LS_ACCESS_TOKEN_KEY, token)\n  }\n\n  get loginLink() {\n    const oauthUri = 'https://github.com/login/oauth/authorize'\n\n    const oauthParams = Object.assign({\n      scope\n    }, this.oauth)\n\n    return `${oauthUri}${Query.stringify(oauthParams)}`\n  }\n\n  constructor(options = {}) {\n    this.defaultTheme = defaultTheme\n    this.useTheme(defaultTheme)\n\n    Object.assign(this, {\n      id: window.location.href,\n      title: window.document.title,\n      link: window.location.href,\n      desc: '',\n      labels: [],\n      theme: defaultTheme,\n      oauth: {},\n      perPage: 20,\n      maxCommentHeight: 250,\n    }, options)\n\n    if ( !this.oauth.redirect_uri ) this.oauth.redirect_uri = window.location.href;\n\n    this.useTheme(this.theme)\n\n    const user = {}\n    try {\n      const userInfo = localStorage.getItem(LS_USER_KEY)\n      if (this.accessToken && userInfo) {\n        Object.assign(user, JSON.parse(userInfo), {\n          fromCache: true,\n        })\n      }\n    } catch (e) {\n      localStorage.removeItem(LS_USER_KEY)\n    }\n\n    this.state = observable({\n      user,\n      error: null,\n      meta: {},\n      comments: undefined,\n      reactions: [],\n      commentReactions: {},\n      currentPage: 1,\n    })\n\n    const query = Query.parse()\n    if (query.code) {\n      const { client_id, client_secret, redirect_uri } = this.oauth\n      const code = query.code\n      delete query.code\n      const search = Query.stringify(query)\n      const replacedUrl = `${window.location.origin}${window.location.pathname}${search}${window.location.hash}`\n      history.replaceState({}, '', replacedUrl)\n\n      Object.assign(this, {\n        id: replacedUrl,\n        link: replacedUrl,\n      }, options)\n\n      this.state.user.isLoggingIn = true\n      // 'https://github.com/login/oauth/access_token'\n      http.post('https://gh-oauth.imsun.net', {\n          code,\n          client_id,\n          client_secret,\n          redirect_uri\n        }, '')\n        .then(data => {\n          this.accessToken = data.access_token\n          this.update()\n        })\n        .catch(e => {\n          this.state.user.isLoggingIn = false\n          console.log(JSON.stringify({code,client_id,client_secret}))\n          console.log(e)\n        })\n    } else {\n      this.update()\n    }\n  }\n\n  init() {\n    return this.createIssue()\n      .then(() => this.loadComments())\n      .then(comments => {\n        this.state.error = null\n        return comments\n      })\n  }\n\n  useTheme(theme = {}) {\n    this.theme = theme\n\n    const renderers = Object.keys(this.theme)\n    renderers.forEach(renderer => extendRenderer(this, renderer))\n  }\n\n  update() {\n    return Promise.all([this.loadMeta(), this.loadUserInfo()])\n      .then(() => Promise.all([\n        this.loadComments().then(() => this.loadCommentReactions()),\n        this.loadReactions(),\n      ]))\n      .catch(e => this.state.error = e)\n  }\n\n  markdown(text) {\n    return http.post('/markdown', {\n      text,\n      mode: 'gfm',\n    })\n  }\n\n  createIssue() {\n    const { id, owner, repo, title, link, desc, labels } = this\n\n    return http.post(`/repos/${owner}/${repo}/issues`, {\n      title,\n      labels: labels.concat(['gitment', id]),\n      body: `${link}\\n\\n${desc}`,\n    })\n      .then((meta) => {\n        this.state.meta = meta\n        return meta\n      })\n  }\n\n  getIssue() {\n    if (this.state.meta.id) {\n      return Promise.resolve(this.state.meta)\n    } else if (status.load) {\n      return new Promise((resolve, reject) => {\n        const timer = setInterval(() => {\n          if (this.state.meta.id) {\n            resolve(this.state.meta)\n            clearInterval(timer)\n          } else if (!status.load) {\n            reject();\n            clearInterval(timer)\n          }\n        }, 100);\n      });\n    } else {\n      return this.loadMeta()\n    }\n  }\n\n  post(body) {\n    return this.getIssue()\n      .then(issue => http.post(issue.comments_url, { body }, ''))\n      .then(data => {\n        this.state.meta.comments++\n        const pageCount = Math.ceil(this.state.meta.comments / this.perPage)\n        if (this.state.currentPage === pageCount) {\n          this.state.comments.push(data)\n        }\n        return data\n      })\n  }\n\n  loadMeta() {\n    const { id, owner, repo } = this\n    status.load = true;\n    return http.get(`/repos/${owner}/${repo}/issues/${id}`)\n      .then(issues => {\n        // if (!issues.length) return Promise.reject(NOT_INITIALIZED_ERROR)\n        this.state.meta = issues\n        status.load = false;\n        return issues\n      })\n      .catch(error => {\n        status.load = false;\n        return error;\n      })\n  }\n\n  loadComments(page = this.state.currentPage) {\n    return this.getIssue()\n      .then(issue => http.get(issue.comments_url, { page, per_page: this.perPage }, ''))\n      .then((comments) => {\n        this.state.comments = comments\n        return comments\n      })\n  }\n\n  loadUserInfo() {\n    if (!this.accessToken) {\n      this.logout()\n      return Promise.resolve({})\n    }\n\n    return http.get('/user')\n      .then((user) => {\n        this.state.user = user\n        localStorage.setItem(LS_USER_KEY, JSON.stringify(user))\n        return user\n      })\n  }\n\n  loadReactions() {\n    if (!this.accessToken) {\n      this.state.reactions = []\n      return Promise.resolve([])\n    }\n\n    return this.getIssue()\n      .then((issue) => {\n        if (!issue.reactions.total_count) return []\n        return http.get(issue.reactions.url, {}, '')\n      })\n      .then((reactions) => {\n        this.state.reactions = reactions\n        return reactions\n      })\n  }\n\n  loadCommentReactions() {\n    if (!this.accessToken) {\n      this.state.commentReactions = {}\n      return Promise.resolve([])\n    }\n\n    const comments = this.state.comments\n    const comentReactions = {}\n\n    return Promise.all(comments.map((comment) => {\n      if (!comment.reactions.total_count) return []\n\n      const { owner, repo } = this\n      return http.get(`/repos/${owner}/${repo}/issues/comments/${comment.id}/reactions`, {})\n    }))\n      .then(reactionsArray => {\n        comments.forEach((comment, index) => {\n          comentReactions[comment.id] = reactionsArray[index]\n        })\n        this.state.commentReactions = comentReactions\n\n        return comentReactions\n      })\n  }\n\n  login() {\n    window.location.href = this.loginLink\n  }\n\n  logout() {\n    localStorage.removeItem(LS_ACCESS_TOKEN_KEY)\n    localStorage.removeItem(LS_USER_KEY)\n    this.state.user = {}\n  }\n\n  goto(page) {\n    this.state.currentPage = page\n    this.state.comments = undefined\n    return this.loadComments(page)\n  }\n\n  like() {\n    if (!this.accessToken) {\n      alert('Login to Like')\n      return Promise.reject()\n    }\n\n    const { owner, repo } = this\n\n    return http.post(`/repos/${owner}/${repo}/issues/${this.state.meta.number}/reactions`, {\n      content: 'heart',\n    })\n      .then(reaction => {\n        this.state.reactions.push(reaction)\n        this.state.meta.reactions.heart++\n      })\n  }\n\n  unlike() {\n    if (!this.accessToken) return Promise.reject()\n\n\n    const { user, reactions } = this.state\n    const index = reactions.findIndex(reaction => reaction.user.login === user.login)\n    return http.delete(`/reactions/${reactions[index].id}`)\n      .then(() => {\n        reactions.splice(index, 1)\n        this.state.meta.reactions.heart--\n      })\n  }\n\n  likeAComment(commentId) {\n    if (!this.accessToken) {\n      alert('Login to Like')\n      return Promise.reject()\n    }\n\n    const { owner, repo } = this\n    const comment = this.state.comments.find(comment => comment.id === commentId)\n\n    return http.post(`/repos/${owner}/${repo}/issues/comments/${commentId}/reactions`, {\n      content: 'heart',\n    })\n      .then(reaction => {\n        this.state.commentReactions[commentId].push(reaction)\n        comment.reactions.heart++\n      })\n  }\n\n  unlikeAComment(commentId) {\n    if (!this.accessToken) return Promise.reject()\n\n    const reactions = this.state.commentReactions[commentId]\n    const comment = this.state.comments.find(comment => comment.id === commentId)\n    const { user } = this.state\n    const index = reactions.findIndex(reaction => reaction.user.login === user.login)\n\n    return http.delete(`/reactions/${reactions[index].id}`)\n      .then(() => {\n        reactions.splice(index, 1)\n        comment.reactions.heart--\n      })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/gitment/gitment.js","/**\n * Modified from https://github.com/evil-icons/evil-icons\n */\n\nexport const close = '<svg class=\"gitment-close-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\"><path d=\"M37.304 11.282l1.414 1.414-26.022 26.02-1.414-1.413z\"/><path d=\"M12.696 11.282l26.022 26.02-1.414 1.415-26.022-26.02z\"/></svg>'\nexport const github = '<svg class=\"gitment-github-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\"><path d=\"M25 10c-8.3 0-15 6.7-15 15 0 6.6 4.3 12.2 10.3 14.2.8.1 1-.3 1-.7v-2.6c-4.2.9-5.1-2-5.1-2-.7-1.7-1.7-2.2-1.7-2.2-1.4-.9.1-.9.1-.9 1.5.1 2.3 1.5 2.3 1.5 1.3 2.3 3.5 1.6 4.4 1.2.1-1 .5-1.6 1-2-3.3-.4-6.8-1.7-6.8-7.4 0-1.6.6-3 1.5-4-.2-.4-.7-1.9.1-4 0 0 1.3-.4 4.1 1.5 1.2-.3 2.5-.5 3.8-.5 1.3 0 2.6.2 3.8.5 2.9-1.9 4.1-1.5 4.1-1.5.8 2.1.3 3.6.1 4 1 1 1.5 2.4 1.5 4 0 5.8-3.5 7-6.8 7.4.5.5 1 1.4 1 2.8v4.1c0 .4.3.9 1 .7 6-2 10.2-7.6 10.2-14.2C40 16.7 33.3 10 25 10z\"/></svg>'\nexport const heart = '<svg class=\"gitment-heart-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\"><path d=\"M25 39.7l-.6-.5C11.5 28.7 8 25 8 19c0-5 4-9 9-9 4.1 0 6.4 2.3 8 4.1 1.6-1.8 3.9-4.1 8-4.1 5 0 9 4 9 9 0 6-3.5 9.7-16.4 20.2l-.6.5zM17 12c-3.9 0-7 3.1-7 7 0 5.1 3.2 8.5 15 18.1 11.8-9.6 15-13 15-18.1 0-3.9-3.1-7-7-7-3.5 0-5.4 2.1-6.9 3.8L25 17.1l-1.1-1.3C22.4 14.1 20.5 12 17 12z\"/></svg>'\nexport const spinner = '<svg class=\"gitment-spinner-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\"><path d=\"M25 18c-.6 0-1-.4-1-1V9c0-.6.4-1 1-1s1 .4 1 1v8c0 .6-.4 1-1 1z\"/><path opacity=\".3\" d=\"M25 42c-.6 0-1-.4-1-1v-8c0-.6.4-1 1-1s1 .4 1 1v8c0 .6-.4 1-1 1z\"/><path opacity=\".3\" d=\"M29 19c-.2 0-.3 0-.5-.1-.4-.3-.6-.8-.3-1.3l4-6.9c.3-.4.8-.6 1.3-.3.4.3.6.8.3 1.3l-4 6.9c-.2.2-.5.4-.8.4z\"/><path opacity=\".3\" d=\"M17 39.8c-.2 0-.3 0-.5-.1-.4-.3-.6-.8-.3-1.3l4-6.9c.3-.4.8-.6 1.3-.3.4.3.6.8.3 1.3l-4 6.9c-.2.2-.5.4-.8.4z\"/><path opacity=\".93\" d=\"M21 19c-.3 0-.6-.2-.8-.5l-4-6.9c-.3-.4-.1-1 .3-1.3.4-.3 1-.1 1.3.3l4 6.9c.3.4.1 1-.3 1.3-.2.2-.3.2-.5.2z\"/><path opacity=\".3\" d=\"M33 39.8c-.3 0-.6-.2-.8-.5l-4-6.9c-.3-.4-.1-1 .3-1.3.4-.3 1-.1 1.3.3l4 6.9c.3.4.1 1-.3 1.3-.2.1-.3.2-.5.2z\"/><path opacity=\".65\" d=\"M17 26H9c-.6 0-1-.4-1-1s.4-1 1-1h8c.6 0 1 .4 1 1s-.4 1-1 1z\"/><path opacity=\".3\" d=\"M41 26h-8c-.6 0-1-.4-1-1s.4-1 1-1h8c.6 0 1 .4 1 1s-.4 1-1 1z\"/><path opacity=\".86\" d=\"M18.1 21.9c-.2 0-.3 0-.5-.1l-6.9-4c-.4-.3-.6-.8-.3-1.3.3-.4.8-.6 1.3-.3l6.9 4c.4.3.6.8.3 1.3-.2.3-.5.4-.8.4z\"/><path opacity=\".3\" d=\"M38.9 33.9c-.2 0-.3 0-.5-.1l-6.9-4c-.4-.3-.6-.8-.3-1.3.3-.4.8-.6 1.3-.3l6.9 4c.4.3.6.8.3 1.3-.2.3-.5.4-.8.4z\"/><path opacity=\".44\" d=\"M11.1 33.9c-.3 0-.6-.2-.8-.5-.3-.4-.1-1 .3-1.3l6.9-4c.4-.3 1-.1 1.3.3.3.4.1 1-.3 1.3l-6.9 4c-.1.2-.3.2-.5.2z\"/><path opacity=\".3\" d=\"M31.9 21.9c-.3 0-.6-.2-.8-.5-.3-.4-.1-1 .3-1.3l6.9-4c.4-.3 1-.1 1.3.3.3.4.1 1-.3 1.3l-6.9 4c-.2.2-.3.2-.5.2z\"/></svg>'\n\n\n\n// WEBPACK FOOTER //\n// ./src/gitment/icons.js","import { github as githubIcon, heart as heartIcon, spinner as spinnerIcon } from '../icons'\nimport { NOT_INITIALIZED_ERROR } from '../constants'\n\nfunction renderHeader({ meta, user, reactions }, instance) {\n  const container = document.createElement('div')\n  container.lang = \"en-US\"\n  container.className = 'gitment-container gitment-header-container'\n\n  const likeButton = document.createElement('span')\n  const likedReaction = reactions.find(reaction => (\n    reaction.content === 'heart' && reaction.user.login === user.login\n  ))\n  likeButton.className = 'gitment-header-like-btn'\n  likeButton.innerHTML = `\n    ${heartIcon}\n    ${ likedReaction\n      ? 'Unlike'\n      : 'Like'\n    }\n    ${ meta.reactions && meta.reactions.heart\n      ? ` • <strong>${meta.reactions.heart}</strong> Liked`\n      : ''\n    }\n  `\n\n  if (likedReaction) {\n    likeButton.classList.add('liked')\n    likeButton.onclick = () => instance.unlike()\n  } else {\n    likeButton.classList.remove('liked')\n    likeButton.onclick = () => instance.like()\n  }\n  container.appendChild(likeButton)\n\n  const commentsCount = document.createElement('span')\n  commentsCount.innerHTML = `\n    ${ meta.comments\n    ? ` • <strong>${meta.comments}</strong> Comments`\n    : ''\n    }\n  `\n  container.appendChild(commentsCount)\n\n  const issueLink = document.createElement('a')\n  issueLink.className = 'gitment-header-issue-link'\n  issueLink.href = meta.html_url\n  issueLink.target = '_blank'\n  issueLink.innerText = 'Issue Page'\n  container.appendChild(issueLink)\n\n  return container\n}\n\nfunction renderComments({ meta, comments, commentReactions, currentPage, user, error }, instance) {\n  const container = document.createElement('div')\n  container.lang = \"en-US\"\n  container.className = 'gitment-container gitment-comments-container'\n\n  if (error) {\n    const errorBlock = document.createElement('div')\n    errorBlock.className = 'gitment-comments-error'\n\n    if (error === NOT_INITIALIZED_ERROR\n      && user.login\n      && user.login.toLowerCase() === instance.owner.toLowerCase()) {\n      const initHint = document.createElement('div')\n      const initButton = document.createElement('button')\n      initButton.className = 'gitment-comments-init-btn'\n      initButton.onclick = () => {\n        initButton.setAttribute('disabled', true)\n        instance.init()\n          .catch(e => {\n            initButton.removeAttribute('disabled')\n            alert(e)\n          })\n      }\n      initButton.innerText = 'Initialize Comments'\n      initHint.appendChild(initButton)\n      errorBlock.appendChild(initHint)\n    } else {\n      errorBlock.innerText = error\n    }\n    container.appendChild(errorBlock)\n    return container\n  } else if (comments === undefined) {\n    const loading = document.createElement('div')\n    loading.innerText = 'Loading comments...'\n    loading.className = 'gitment-comments-loading'\n    container.appendChild(loading)\n    return container\n  } else if (!comments.length) {\n    const emptyBlock = document.createElement('div')\n    emptyBlock.className = 'gitment-comments-empty'\n    emptyBlock.innerText = 'No Comment Yet'\n    container.appendChild(emptyBlock)\n    return container\n  }\n\n  const commentsList = document.createElement('ul')\n  commentsList.className = 'gitment-comments-list'\n\n  comments.forEach(comment => {\n    const createDate = new Date(comment.created_at)\n    const updateDate = new Date(comment.updated_at)\n    const commentItem = document.createElement('li')\n    commentItem.className = 'gitment-comment'\n    commentItem.innerHTML = `\n      <a class=\"gitment-comment-avatar\" href=\"${comment.user.html_url}\" target=\"_blank\">\n        <img class=\"gitment-comment-avatar-img\" src=\"${comment.user.avatar_url}\"/>\n      </a>\n      <div class=\"gitment-comment-main\">\n        <div class=\"gitment-comment-header\">\n          <a class=\"gitment-comment-name\" href=\"${comment.user.html_url}\" target=\"_blank\">\n            ${comment.user.login}\n          </a>\n          commented on\n          <span title=\"${createDate}\">${createDate.toDateString()}</span>\n          ${ createDate.toString() !== updateDate.toString()\n            ? ` • <span title=\"comment was edited at ${updateDate}\">edited</span>`\n            : ''\n          }\n          <div class=\"gitment-comment-like-btn\">${heartIcon} ${comment.reactions.heart || ''}</div>\n        </div>\n        <div class=\"gitment-comment-body gitment-markdown\">${comment.body_html}</div>\n      </div>\n    `\n    const likeButton = commentItem.querySelector('.gitment-comment-like-btn')\n    const likedReaction = commentReactions[comment.id]\n      && commentReactions[comment.id].find(reaction => (\n        reaction.content === 'heart' && reaction.user.login === user.login\n      ))\n    if (likedReaction) {\n      likeButton.classList.add('liked')\n      likeButton.onclick = () => instance.unlikeAComment(comment.id)\n    } else {\n      likeButton.classList.remove('liked')\n      likeButton.onclick = () => instance.likeAComment(comment.id)\n    }\n\n    // dirty\n    // use a blank image to trigger height calculating when element rendered\n    const imgTrigger = document.createElement('img')\n    const markdownBody = commentItem.querySelector('.gitment-comment-body')\n    imgTrigger.className = 'gitment-hidden'\n    imgTrigger.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\"\n    imgTrigger.onload = () => {\n      if (markdownBody.clientHeight > instance.maxCommentHeight) {\n        markdownBody.classList.add('gitment-comment-body-folded')\n        markdownBody.style.maxHeight = instance.maxCommentHeight + 'px'\n        markdownBody.title = 'Click to Expand'\n        markdownBody.onclick = () => {\n          markdownBody.classList.remove('gitment-comment-body-folded')\n          markdownBody.style.maxHeight = ''\n          markdownBody.title = ''\n          markdownBody.onclick = null\n        }\n      }\n    }\n    commentItem.appendChild(imgTrigger)\n\n    commentsList.appendChild(commentItem)\n  })\n\n  container.appendChild(commentsList)\n\n  if (meta) {\n    const pageCount = Math.ceil(meta.comments / instance.perPage)\n    if (pageCount > 1) {\n      const pagination = document.createElement('ul')\n      pagination.className = 'gitment-comments-pagination'\n\n      if (currentPage > 1) {\n        const previousButton = document.createElement('li')\n        previousButton.className = 'gitment-comments-page-item'\n        previousButton.innerText = 'Previous'\n        previousButton.onclick = () => instance.goto(currentPage - 1)\n        pagination.appendChild(previousButton)\n      }\n\n      for (let i = 1; i <= pageCount; i++) {\n        const pageItem = document.createElement('li')\n        pageItem.className = 'gitment-comments-page-item'\n        pageItem.innerText = i\n        pageItem.onclick = () => instance.goto(i)\n        if (currentPage === i) pageItem.classList.add('gitment-selected')\n        pagination.appendChild(pageItem)\n      }\n\n      if (currentPage < pageCount) {\n        const nextButton = document.createElement('li')\n        nextButton.className = 'gitment-comments-page-item'\n        nextButton.innerText = 'Next'\n        nextButton.onclick = () => instance.goto(currentPage + 1)\n        pagination.appendChild(nextButton)\n      }\n\n      container.appendChild(pagination)\n    }\n  }\n\n  return container\n}\n\nfunction renderEditor({ user, error }, instance) {\n  const container = document.createElement('div')\n  container.lang = \"en-US\"\n  container.className = 'gitment-container gitment-editor-container'\n\n  const shouldDisable = user.login && !error ? '' : 'disabled'\n  const disabledTip = user.login ? '' : 'Login to Comment'\n  container.innerHTML = `\n      ${ user.login\n        ? `<a class=\"gitment-editor-avatar\" href=\"${user.html_url}\" target=\"_blank\">\n            <img class=\"gitment-editor-avatar-img\" src=\"${user.avatar_url}\"/>\n          </a>`\n        : user.isLoggingIn\n          ? `<div class=\"gitment-editor-avatar\">${spinnerIcon}</div>`\n          : `<a class=\"gitment-editor-avatar\" href=\"${instance.loginLink}\" title=\"login with GitHub\">\n              ${githubIcon}\n            </a>`\n      }\n    </a>\n    <div class=\"gitment-editor-main\">\n      <div class=\"gitment-editor-header\">\n        <nav class=\"gitment-editor-tabs\">\n          <button class=\"gitment-editor-tab gitment-selected\">Write</button>\n          <button class=\"gitment-editor-tab\">Preview</button>\n        </nav>\n        <div class=\"gitment-editor-login\">\n          ${ user.login\n            ? '<a class=\"gitment-editor-logout-link\">Logout</a>'\n            : user.isLoggingIn\n              ? 'Logging in...'\n              : `<a class=\"gitment-editor-login-link\" href=\"${instance.loginLink}\">Login</a> with GitHub`\n          }\n        </div>\n      </div>\n      <div class=\"gitment-editor-body\">\n        <div class=\"gitment-editor-write-field\">\n          <textarea placeholder=\"Leave a comment\" title=\"${disabledTip}\" ${shouldDisable}></textarea>\n        </div>\n        <div class=\"gitment-editor-preview-field gitment-hidden\">\n          <div class=\"gitment-editor-preview gitment-markdown\"></div>\n        </div>\n      </div>\n    </div>\n    <div class=\"gitment-editor-footer\">\n      <a class=\"gitment-editor-footer-tip\" href=\"https://guides.github.com/features/mastering-markdown/\" target=\"_blank\">\n        Styling with Markdown is supported\n      </a>\n      <button class=\"gitment-editor-submit\" title=\"${disabledTip}\" ${shouldDisable}>Comment</button>\n    </div>\n  `\n  if (user.login) {\n    container.querySelector('.gitment-editor-logout-link').onclick = () => instance.logout()\n  }\n\n  const writeField = container.querySelector('.gitment-editor-write-field')\n  const previewField = container.querySelector('.gitment-editor-preview-field')\n\n  const textarea = writeField.querySelector('textarea')\n  textarea.oninput = () => {\n    textarea.style.height = 'auto'\n    const style = window.getComputedStyle(textarea, null)\n    const height = parseInt(style.height, 10)\n    const clientHeight = textarea.clientHeight\n    const scrollHeight = textarea.scrollHeight\n    if (clientHeight < scrollHeight) {\n      textarea.style.height = (height + scrollHeight - clientHeight) + 'px'\n    }\n  }\n\n  const [writeTab, previewTab] = container.querySelectorAll('.gitment-editor-tab')\n  writeTab.onclick = () => {\n    writeTab.classList.add('gitment-selected')\n    previewTab.classList.remove('gitment-selected')\n    writeField.classList.remove('gitment-hidden')\n    previewField.classList.add('gitment-hidden')\n\n    textarea.focus()\n  }\n  previewTab.onclick = () => {\n    previewTab.classList.add('gitment-selected')\n    writeTab.classList.remove('gitment-selected')\n    previewField.classList.remove('gitment-hidden')\n    writeField.classList.add('gitment-hidden')\n\n    const preview = previewField.querySelector('.gitment-editor-preview')\n    const content = textarea.value.trim()\n    if (!content) {\n      preview.innerText = 'Nothing to preview'\n      return\n    }\n\n    preview.innerText = 'Loading preview...'\n    instance.markdown(content)\n      .then(html => preview.innerHTML = html)\n  }\n\n  const submitButton = container.querySelector('.gitment-editor-submit')\n  submitButton.onclick = () => {\n    submitButton.innerText = 'Submitting...'\n    submitButton.setAttribute('disabled', true)\n    instance.post(textarea.value.trim())\n      .then(data => {\n        textarea.value = ''\n        textarea.style.height = 'auto'\n        submitButton.removeAttribute('disabled')\n        submitButton.innerText = 'Comment'\n      })\n      .catch(e => {\n        alert(e)\n        submitButton.removeAttribute('disabled')\n        submitButton.innerText = 'Comment'\n      })\n  }\n\n  return container\n}\n\nfunction renderFooter() {\n  const container = document.createElement('div')\n  container.lang = \"en-US\"\n  container.className = 'gitment-container gitment-footer-container'\n  container.innerHTML = `\n    Powered by\n    <a class=\"gitment-footer-project-link\" href=\"https://github.com/imsun/gitment\" target=\"_blank\">\n      Gitment\n    </a>\n  `\n  return container\n}\n\nfunction render(state, instance) {\n  const container = document.createElement('div')\n  container.lang = \"en-US\"\n  container.className = 'gitment-container gitment-root-container'\n  container.appendChild(instance.renderHeader(state, instance))\n  container.appendChild(instance.renderComments(state, instance))\n  container.appendChild(instance.renderEditor(state, instance))\n  container.appendChild(instance.renderFooter(state, instance))\n  return container\n}\n\nexport default { render, renderHeader, renderComments, renderEditor, renderFooter }\n\n\n\n// WEBPACK FOOTER //\n// ./src/gitment/theme/default.js","import Vue from 'vue'\nimport Router from 'vue-router'\n\nimport App from './App.vue'\nimport Detail from './components/Detail.vue'\nimport List from './components/List.vue'\nimport ErrorPage from './components/Error.vue'\n\n// install router\nVue.use(Router);\n\nconst routes = [\n    {\n        path: '/list',\n        name: 'list',\n        redirect: '/'\n    },\n    {\n        path: '/detail/:id',\n        name: 'detail',\n        component: Detail\n    },\n    {\n        path: '/:id(\\\\d+)',\n        name: 'detail',\n        component: Detail\n    },\n    {\n        path: '/',\n        name: 'list',\n        component: List,\n    },\n    {\n        path: 'error',\n        name: 'error',\n        component: ErrorPage,\n    },\n    {\n        path: '*',\n        name: 'error',\n        component: ErrorPage\n    }\n]\n\n\n\nvar router = new Router({\n    base: \"blog/\",\n    routes: routes,\n    mode: 'history'\n})\n\n// router.beforeEach(function () {\n//     window.scrollTo(0, 0);\n// })\n\n// router.redirect({\n//     '*': '/list'\n// })\n\n// 4. 创建和挂载根实例。\n// 记得要通过 router 配置参数注入路由，\n// 从而让整个应用都有路由功能\nconst app = new Vue({\n    router,\n    render: h => h(App)\n}).$mount('#app');\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_normalize.css@8.0.0@normalize.css/normalize.css\n// module id = 369\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/gitment/default.css\n// module id = 370\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/style/main.css\n// module id = 371\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.1.2@vue-style-loader!./~/_css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4a32f5fe\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/components/Detail.vue\n// module id = 372\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"issue-list\"\n  }, _vm._l((_vm.issues), function(item) {\n    return _c('div', {\n      staticClass: \"issue-item\"\n    }, [_c('router-link', {\n      attrs: {\n        \"to\": '/detail/' + item.number\n      }\n    }, [_c('div', {\n      staticClass: \"issue-text\"\n    }, [_c('h2', [_vm._v(_vm._s(item.title))]), _vm._v(\" \"), _c('p', {\n      domProps: {\n        \"innerHTML\": _vm._s(_vm.summary(item.body_html))\n      }\n    })])])], 1)\n  }))\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-14e0810b\",\"hasScoped\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/List.vue\n// module id = 377\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"content\"\n  }, [_c('p', [_vm._v(\"页面不存在，\" + _vm._s(_vm.seconds) + \"秒后回到首页\")])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-332b832a\",\"hasScoped\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/Error.vue\n// module id = 378\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.loading),\n      expression: \"!loading\"\n    }]\n  }, [_c('div', {\n    staticClass: \"content\"\n  }, [(_vm.detail.paragraph && _vm.detail.paragraph.length) ? _c('ul', {\n    staticClass: \"content-nav\"\n  }, _vm._l((_vm.detail.paragraph), function(p) {\n    return _c('a', {\n      class: {\n        'active': _vm.hash === p.id\n      },\n      attrs: {\n        \"href\": '#' + p.id\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.hash = p.id\n        }\n      }\n    }, [_c('li', {\n      domProps: {\n        \"innerHTML\": _vm._s(p.label)\n      }\n    })])\n  })) : _vm._e(), _vm._v(\" \"), _c('article', {\n    staticClass: \"gitment-comment-body gitment-markdown\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm.detail.title))]), _vm._v(\" \"), _c('div', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.detail.html)\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"comments\"\n    }\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-4a32f5fe\",\"hasScoped\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/Detail.vue\n// module id = 379\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('header', {\n    staticClass: \"main\"\n  }, [_c('div', {\n    staticClass: \"main-info\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": _vm.user.html_url,\n      \"target\": \"_blank\"\n    }\n  }, [_c('div', {\n    staticClass: \"main-avatar\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.user.avatar_url\n    }\n  })]), _vm._v(\" \"), _c('font', [_vm._v(_vm._s(_vm.user.name || _vm.user.login))])], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"main-title\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": '/'\n    }\n  }, [_vm._v(\"\\n                \" + _vm._s(_vm.title))])], 1)]), _vm._v(\" \"), _c('section', {\n    ref: \"context\",\n    staticClass: \"context\",\n    on: {\n      \"scroll\": _vm.onScrolling\n    }\n  }, [_c('router-view', {\n    ref: \"context-view\",\n    attrs: {\n      \"issues\": _vm.issues\n    },\n    on: {\n      \"getMoreIssues\": _vm.getIssues,\n      \"loading\": _vm.setLoading\n    }\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"loading-tips\"\n  }, [_c('svg', {\n    attrs: {\n      \"height\": \"60\",\n      \"viewBox\": \"0 0 16 16\",\n      \"version\": \"1.1\",\n      \"width\": \"60\",\n      \"aria-hidden\": \"true\"\n    }\n  }, [_c('path', {\n    attrs: {\n      \"fill-rule\": \"evenodd\",\n      \"d\": \"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\"\n    }\n  })]), _vm._v(\" \"), _c('p', [_vm._v(\"loading\")])])], 1), _vm._v(\" \"), _vm._m(0)])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('footer', {\n    staticClass: \"main\"\n  }, [_c('p', [_vm._v(\"Powered By \"), _c('a', {\n    attrs: {\n      \"href\": \"http://github.com\"\n    }\n  }, [_vm._v(\"Github\")])])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-afd21016\",\"hasScoped\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 380\n// module chunks = 1","const OWNER = \"Toninie\";\r\nconst REPO = \"toninie.github.io\";\r\nconst OAUTH = {\r\n    client_id: 'b3e11e60e74839d5c0b6',\r\n    client_secret: 'affb7389c92dfd8b53bd08bfce74b735567e1e71',\r\n};\r\nconst TITLE = \"Mr.Toni Barbershop\";\r\n\r\nexport {OWNER,REPO,OAUTH,TITLE};\n\n\n// WEBPACK FOOTER //\n// ./src/config/index.js","export const LS_ACCESS_TOKEN_KEY = 'gitment-comments-token'\nexport const LS_USER_KEY = 'gitment-user-info'\n\nexport const NOT_INITIALIZED_ERROR = new Error('Comments Not Initialized')\n\n\n\n// WEBPACK FOOTER //\n// ./src/gitment/constants.js"],"sourceRoot":""}